# Задача 6 — Бот‑визуализатор сетевой топологии (NetMapper) — уточнённое ТЗ

Кратко: разработать Telegram‑бота и вспомогательный API‑сервис, которые позволяют загружать, валидировать, хранить и экспортировать сетевые топологии в JSON‑формате. Бот даёт пользователю удобные команды для проверки топологии, просмотра краткой информации и скачивания/экспорта. API служит для загрузки/выгрузки топологий и тестирования со стороны клиента.

Цель: предоставить функциональную учебную реализацию системы NetMapper, которую можно запустить локально и протестировать через автоматические тесты.

## Функциональные требования (обязательные)

1) Команда в боте: `/check`
   - Принимает один аргумент или ответ‑сообщение с JSON (строкой или файлом `.json`) — описание топологии.
   - Выполняет валидацию JSON по простому схематическому набору правил (см. раздел "Валидация").
   - Возвращает пользователю результат проверки: `валидно` / `не валидно` + список ошибок (если есть).

2) Команда в боте: `/download`
   - Позволяет пользователю получить текущую топологию (которая была загружена ранее) как файл `.json`.
   - Если топология не загружена — отправляет сообщение с инструкцией как загрузить.

3) Команда в боте: `/upload` (или загрузка через ответ)
   - Пользователь может загрузить топологию командой `/upload` и прикреплённым `.json` файлом или текстом с JSON.
   - Бот сохраняет валидную топологию в простом хранилище (в проекте допускается хранение в памяти либо в файле), возвращает идентификатор (`id`).

4) API сервис
   - `POST /api/topologies` — принимать JSON тела с топологией, валидировать и возвращать `{ id, ok }`.
   - `GET /api/topologies/:id` — вернуть сохранённую топологию по `id`.
   - `GET /api/topologies/:id/download` — отдать топологию как attachment (Content‑Disposition) для скачивания `.json`.
   - (опционально) `GET /api/status` и `GET /api/config` — возвращают служебную информацию (как в примере решения).

## Валидация (минимальные правила)

- Топология — объект с полями: `{ nodes: Array, edges: Array }`.
- Каждый `node` должен иметь: `id` (string), `type` (router|switch|server), `data` (object) — поле `label` обязательно.
- Каждый `edge` должен иметь: `id` (string), `source` (node id), `target` (node id), `type` (string).
- Дополнительно: проверять, что все `source`/`target` ссылаются на существующие `node.id`.

