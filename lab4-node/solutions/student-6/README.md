Полный и готовый к использованию README для ревьюеров.

Кратко: этот репозиторий содержит простую API-службу (Express) и Telegram-бота (Telegraf). Для локальной проверки запускайте тесты и/или серверы по инструкциям ниже. Перед пушем на публичный репозиторий убедитесь, что вы не коммитите файл `.env` с приватными токенами.

## Структура

- `api-server/` — мини-API на Express и набор тестов (Jest + supertest).
- `telegram-bot/` — Telegram bot (Telegraf) со своими тестами.
- `start.js` — лайтовый лаунчер, который запускает API и бота локально.

## Быстрый старт (для проверяющего)

1) Клонируйте и перейдите в папку с решением:

```powershell
git clone <your-fork-url>
cd js_6310_labs\lab4-node\solutions\student-6
```

2) Установите зависимости:

```powershell
npm install
```

3) Создайте локальный `.env` (скопируйте `.env.example` и заполните при необходимости). Никогда не коммитите реальные токены.

4) Запустите тесты (из корня решения):

```powershell
npm test
```

5) Для ручной проверки серверов:

- Запустить оба компонента вместе:

```powershell
npm start
```

- Или запускать по отдельности (если предпочитаете контролировать процессы):

```powershell
# API
node api-server/server.js

# Telegram bot (в другом окне терминала)
node telegram-bot/bot.js
```

Если `npm start` не работает (например, нет `concurrently`), используйте `node start.js` или запустите компоненты по отдельности.

## Безопасность и очистка перед пушем

Перед пушем на GitHub убедитесь, что вы не включаете в коммит:

- `.env` (с приватными токенами)
- большие артефакты покрытия тестов: `coverage/`, `lcov.info`, `coverage-final.json`, `lcov-report/` и т.п.
- `node_modules/` (включён в `.gitignore`).


## Частые причины, почему бот не запускается

1. Отсутствует `BOT_TOKEN` в `.env` — бот завершает процесс при отсутствии токена. Проверьте `.env` и не коммитите его.
2. Порт занят (например, API пытается слушать порт 3000): ошибка `EADDRINUSE`. Проверьте занятые порты:

```powershell
netstat -ano | findstr ":3000"
```

и завершите процесс `taskkill /PID <pid> /F` или измените `SERVER_PORT` в `.env`.
3. `concurrently` отсутствует — если `npm start` использует `concurrently`, убедитесь, что он установлен. В этом решении используется `start.js`, поэтому `npm start` должен работать без `concurrently`.
4. Неправильный формат `.env` (например, кавычки вокруг токена) — используйте простую запись без внешних кавычек: `BOT_TOKEN=123:ABC`.

## Тестирование

Запуск тестов:

```powershell
npm test
```

Если нужно запустить только `api-server` или только `telegram-bot`:

```powershell
npm --prefix ./api-server run test
npm --prefix ./telegram-bot run test
```

## Если нужно — я могу:

- Помочь вычистить `.env` из истории (BFG) и подготовить инструкции для команды.
- Подготовить PR/коммит с финальными правками и примером `.env.example`.

Если хочешь, я заменю этот README в репозитории и подготовлю коммит.
